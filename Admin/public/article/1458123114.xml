<p><span style="font-size: 18px;">ArrayAccess是PHP一个域定义的接口，提供像访问数组一样的访问对象</span></p><p>先看一下它有那些接口<br/></p><p><span class="ooclass"><span class="classname" style="text-rendering: optimizeLegibility; font-weight: bolder; color: rgb(51, 102, 153);"></span></span></p><pre class="brush:php;toolbar:false">ArrayAccess&nbsp;{
/*&nbsp;方法&nbsp;*/
abstract&nbsp;public&nbsp;boolean&nbsp;offsetExists&nbsp;(&nbsp;mixed&nbsp;$offset&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;//检查一个偏移位置是否存在。使用&nbsp;isset()&nbsp;或&nbsp;empty()&nbsp;时，此方法将执行
abstract&nbsp;public&nbsp;mixed&nbsp;offsetGet&nbsp;(&nbsp;mixed&nbsp;$offset&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;//返回指定偏移位置的值
abstract&nbsp;public&nbsp;void&nbsp;offsetSet&nbsp;(&nbsp;mixed&nbsp;$offset&nbsp;,&nbsp;mixed&nbsp;$value&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置一个偏移位置的值
abstract&nbsp;public&nbsp;void&nbsp;offsetUnset&nbsp;(&nbsp;mixed&nbsp;$offset&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;//复位一个偏移位置的值
}</pre><p>很简单而强大的接口，看一下这个代码：</p><pre class="brush:php;toolbar:false">&lt;?php

class&nbsp;MyArray&nbsp;implements&nbsp;ArrayAccess{

&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;$data&nbsp;=&nbsp;array();
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct()
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data&nbsp;=&nbsp;array(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;one&#39;=&gt;1,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;two&#39;=&gt;2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;three&#39;=&gt;3
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//检查一个偏移位置是否存在。使用&nbsp;isset()&nbsp;或&nbsp;empty()&nbsp;时，此方法将执行
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetExists($offset)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;$offset&nbsp;:&nbsp;&quot;.__FUNCTION__.&#39;&lt;br&nbsp;/&gt;&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//返回指定偏移位置的值。
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetGet($offset)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;$offset&nbsp;:&nbsp;&quot;.__FUNCTION__.&#39;&lt;br&nbsp;/&gt;&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置一个偏移位置的值
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetSet($offset,&nbsp;$value)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;$offset&nbsp;:&nbsp;$value&nbsp;:&quot;.__FUNCTION__.&#39;&lt;br&nbsp;/&gt;&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;//复位一个偏移位置的值
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetUnset($offset)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;$offset&nbsp;:&nbsp;&quot;.__FUNCTION__.&#39;&lt;br&nbsp;/&gt;&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;}
}

$my_class&nbsp;=&nbsp;new&nbsp;MyArray();

echo&nbsp;&#39;&lt;pre&gt;&#39;;

isset($my_class[1]);
$my_class[1];
$my_class[1]&nbsp;=&nbsp;&#39;one&#39;;
unset($my_class[1]);

echo&nbsp;&#39;&lt;/pre&gt;&#39;;</pre><p>输出结果：</p><pre class="brush:html;toolbar:false">1&nbsp;:&nbsp;offsetExists
1&nbsp;:&nbsp;offsetGet
1&nbsp;:&nbsp;one&nbsp;:offsetSet
1&nbsp;:&nbsp;offsetUnset</pre><p>完善一下可以使用：</p><pre class="brush:php;toolbar:false">class&nbsp;MyArray&nbsp;implements&nbsp;ArrayAccess{

&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;$data&nbsp;=&nbsp;array();
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct()
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data&nbsp;=&nbsp;array(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;one&#39;=&gt;1,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;two&#39;=&gt;2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;three&#39;=&gt;3
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//检查一个偏移位置是否存在。使用&nbsp;isset()&nbsp;或&nbsp;empty()&nbsp;时，此方法将执行
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetExists($offset)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;isset($this-&gt;data[$offset]);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//返回指定偏移位置的值。
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetGet($offset)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;isset($this-&gt;data[$offset])&nbsp;?&nbsp;$this-&gt;data[$offset]&nbsp;:&nbsp;null;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置一个偏移位置的值
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetSet($offset,&nbsp;$value)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(is_null($offset))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data[]&nbsp;=&nbsp;$value;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;data[$offset]&nbsp;=&nbsp;$value;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;//复位一个偏移位置的值
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;offsetUnset($offset)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset($this-&gt;data[$offset]);
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p><br/></p>